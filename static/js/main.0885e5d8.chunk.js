(this["webpackJsonpsign-in"]=this["webpackJsonpsign-in"]||[]).push([[0],{10:function(e,t,n){e.exports={Input:"Input_Input__2MHHb",success:"Input_success__ZBxUN",null:"Input_null__1AI2h",icon:"Input_icon__1n6HH",result:"Input_result__1iU0C",error:"Input_error__3RfC3"}},14:function(e,t,n){e.exports={container:"FormCustom_container__2_g9L",links:"FormCustom_links__5151j",error:"FormCustom_error__261Ab",profileCreate:"FormCustom_profileCreate__3kqGc"}},34:function(e,t,n){e.exports={Title:"Title_Title__9sGDZ"}},35:function(e,t,n){e.exports={Button:"Button_Button__HOrbw"}},37:function(e,t,n){e.exports={Main:"Main_Main__2tu-U"}},44:function(e,t,n){},45:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(18),c=n.n(a),o=(n(44),n(45),n(13)),s=n.n(o),i=n(16),A=n(34),u=n.n(A),l=n(1),j=function(){return Object(l.jsxs)("div",{className:u.a.Title,children:[Object(l.jsx)("span",{children:"Bank"}),Object(l.jsx)("span",{children:"Support Portal"})]})},p=n(39),m=n(14),b=n.n(m),d=n(35),h=n.n(d),O=function(e){var t=e.name,n=e.color,r=e.onClick;return Object(l.jsx)("div",{className:h.a.Button,children:Object(l.jsx)("input",{onClick:r,type:"submit",value:t,style:{background:n}})})},g=n(25),f=n(8),x=n(10),k=n.n(x),v=function(e){var t=e.type,n=e.isValid,r=e.show,a=e.input,c=e.meta;return Object(l.jsxs)("div",{className:k.a.Input,children:[Object(l.jsx)("input",Object(f.a)({type:"Password"===t?"password":"email",autoComplete:"on",placeholder:t,className:n?k.a.success:k.a.null},a)),Object(l.jsx)("div",{className:k.a.icon,children:"E-mail"===t?Object(l.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAANBAMAAABr8kJMAAAAAXNSR0IB2cksfwAAACdQTFRFAAAAlZWVmZmZmZmZmpqal5eXn5+fmJiYn5+fmJiYmJiYmZmZmpqa5rAf3gAAAA10Uk5TABhfgDBACHcQT1coR7f6L80AAABASURBVHicY2BgYBBkAAMmYwUw7WxsAqaDjU1RaJh4snEZsnqO6calDQwMLMrGxsZWGxhAlLGxDQOYMjZnUIIAAM7HC7gwJJoTAAAAAElFTkSuQmCC",alt:"icon"}):Object(l.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAOBAMAAADpk+DfAAAAAXNSR0IB2cksfwAAAC1QTFRFAAAAn5+fmJiYmZmZmZmZn5+fmZmZmJiYlZWVmpqamZmZl5eXm5ubl5eXmJiYWE0MUQAAAA90Uk5TAAhXgF8QZ3cYbyhAOCBPzBbA8AAAAEVJREFUeJxjYBAyNglgYGBINilOYGDgsBQQs2Jg4LZm4LEGU7xAaovJ7n0mWxmMQcAWQTkog6kJyWDKACJojaRkNwhsBQA6DBTJqsh8LwAAAABJRU5ErkJggg==",alt:"icon"})}),r&&n&&Object(l.jsx)("img",{className:k.a.result,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALBAMAAABbgmoVAAAAAXNSR0IB2cksfwAAACFQTFRFAAAAAIpFAIpHAIpFAIpGAIpFAItIAIpGAIpGAIpGAI9A9Yy0VwAAAAt0Uk5TAGCfv/8wQO+vzxCZV25pAAAAQElEQVR4nGNgAAEBMMlkAKZUDBhCgRwXA4b0AAYVlwaGlFImF88FDCnuLS6zGBhCXEAcBkYXEIeBQQTEAXJBHAByuQuW1CLuKAAAAABJRU5ErkJggg==",alt:"status icon"}),r&&"E-mail"===t&&!n&&Object(l.jsx)("img",{className:k.a.result,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKBAMAAAB/HNKOAAAAAXNSR0IB2cksfwAAAC1QTFRFAAAA/yQk7R8k7R8k7R4j3yAg7h8k7h8l7R8l7R8j7R8k7B8k7R8k7h8k7SAl8A6CJwAAAA90Uk5TAAf/mpgIk5KLipyVjZSZyZOsIQAAAENJREFUeJxjEDJgYFFlUFJjKFJiMFLqVNJiYFNSUtrAwNCkpMPAwDBJSYOBgR0ocoHBSemEkh6DkjbDJSWGoAUMzKoAEmcKTRPyq4EAAAAASUVORK5CYII=",alt:"status icon"}),!n&&r&&"E-mail"===t&&Object(l.jsx)("span",{className:k.a.error,children:"Invalid Username"}),c.error&&c.touched&&Object(l.jsx)("span",{className:k.a.error,children:c.error})]})},C=n(11),B=function(e){var t=e.onSubmitHandler,n=e.color,a=e.name,c=e.login,o=e.error,s=e.profileCreated,i=Object(r.useState)([{name:"email",type:"E-mail"},{name:"password",type:"Password"}]),A=Object(p.a)(i,1)[0].map((function(e){return Object(l.jsx)(g.a,{name:e.name,render:function(t){var n=t.input,r=t.meta;return Object(l.jsx)(v,{type:e.type,input:n,meta:r})}},Math.random())}));return Object(l.jsx)("div",{children:Object(l.jsx)(g.b,{onSubmit:t,validate:function(e){var t={};return e.email||(t.email="Required"),e.password||(t.password="Required"),t},render:function(e){var t=e.handleSubmit;return Object(l.jsx)("form",{onSubmit:t,children:Object(l.jsxs)("div",{className:b.a.container,children:[Object(l.jsx)("div",{className:b.a.fields,children:A}),o&&Object(l.jsx)("div",{className:b.a.error,children:o}),s&&Object(l.jsxs)("div",{className:b.a.profileCreate,children:[Object(l.jsx)("span",{children:"Profile successfully created!"}),Object(l.jsx)("span",{children:"You can sign in now"})]}),Object(l.jsx)("div",{className:b.a.buttonSection,children:Object(l.jsx)(O,{color:n,name:a})}),c?Object(l.jsxs)("div",{className:b.a.links,children:[Object(l.jsx)("span",{children:"Dont have an account yet? "}),Object(l.jsx)(C.b,{to:"/authorization/sign-up",children:"Register here"})]}):Object(l.jsxs)("div",{className:b.a.links,children:[Object(l.jsx)("span",{children:"Already have an account? "}),Object(l.jsx)(C.b,{to:"/authorization/sign-in",children:"Login here"})]})]})})}})})},w=n(3),R=n(12),I=n(36),E=n.n(I),_="AUTH_SUCCESS",S="LOGOUT",y="LOAD_ERROR",N="PROFILE_CREATE",F="CLEAR_ERROR",U=function(e){return{type:_,token:e}},J=function(){return localStorage.removeItem("token"),localStorage.removeItem("localId"),localStorage.removeItem("expiresIn"),{type:S}},T=Object(R.b)((function(e){return{error:e.AuthReducer.error,profileCreated:e.AuthReducer.profileCreationSuccess}}),{AuthTC:function(e,t,n,r,a){return function(){var c=Object(i.a)(s.a.mark((function c(o){var i,A,u;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return i="",i=n?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDVrvK0zv20ZTN0aMQEE2V-5Vl5FyEwM7E":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDVrvK0zv20ZTN0aMQEE2V-5Vl5FyEwM7E",c.prev=2,c.next=5,E.a.post(i,{email:e,password:t,returnSecureToken:!0});case 5:A=c.sent,(u=A.data.idToken)&&(a.restart(),o({type:F}),n?(localStorage.setItem("token",u),o(U(u)),r.push("/")):(o({type:N}),r.push("/authorization/sign-in"))),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(2),o((s=c.t0.response.data.error.message.split("_").join(" ").toLowerCase(),{type:y,error:s}));case 13:case"end":return c.stop()}var s}),c,null,[[2,10]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.AuthTC,n=e.error,r=e.profileCreated,a=Object(w.g)(),c=function(){var e=Object(i.a)(s.a.mark((function e(n,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(n.email,n.password,!0,a,r);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=Object(i.a)(s.a.mark((function e(n,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(n.email,n.password,!1,a,r);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(j,{}),Object(l.jsxs)(w.d,{children:[Object(l.jsx)(w.b,{path:"/authorization/sign-in",render:function(){return Object(l.jsx)(B,{profileCreated:r,error:n,name:"Login",login:!0,onSubmitHandler:c})}}),Object(l.jsx)(w.b,{path:"/authorization/sign-up",render:function(){return Object(l.jsx)(B,{error:n,name:"Sign Up",login:!1,onSubmitHandler:o})}})]})]})})),Z=n(37),M=n.n(Z),L=Object(R.b)(null,{Logout:J})((function(e){var t=e.Logout,n=Object(w.g)();return Object(l.jsxs)("div",{className:M.a.Main,children:[Object(l.jsxs)("h1",{children:[Object(l.jsx)("span",{children:"Success!"})," The app is authorized"]}),Object(l.jsx)(O,{onClick:function(){t(),n.push("/authorization/sign-in")},name:"Logout",color:"#ed1f24"})]})})),Q=Object(R.b)((function(e){return{authorized:!!e.AuthReducer.token}}),{AutoLoginTC:function(){return function(e){var t=localStorage.getItem("token");e(t?U(t):J())}}})((function(e){var t=e.authorized,n=e.AutoLoginTC;return Object(r.useEffect)((function(){n()}),[]),Object(l.jsx)("div",{children:Object(l.jsxs)(w.d,{children:[Object(l.jsx)(w.b,{path:"/login-form",render:function(){return Object(l.jsx)(w.a,{to:"authorization/sign-in"})}}),Object(l.jsx)(w.b,{path:"/authorization",component:T}),t&&Object(l.jsx)(w.b,{path:"/",component:L})]})})})),V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},G={token:null,error:null,profileCreationSuccess:!1},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(f.a)(Object(f.a)({},e),{},{token:t.token});case S:return Object(f.a)(Object(f.a)({},e),{},{token:null});case y:return Object(f.a)(Object(f.a)({},e),{},{error:t.error});case F:return Object(f.a)(Object(f.a)({},e),{},{error:null});case N:return Object(f.a)(Object(f.a)({},e),{},{profileCreationSuccess:!0});default:return e}},D=n(20),z=n(38),H=Object(D.b)({AuthReducer:Y}),K=Object(D.c)(H,Object(D.a)(z.a));window.store=K;var X=K,q=Object(l.jsx)(R.a,{store:X,children:Object(l.jsx)(C.a,{basename:"/login-form",children:Object(l.jsx)(Q,{})})});c.a.render(q,document.getElementById("root")),V()}},[[71,1,2]]]);
//# sourceMappingURL=main.0885e5d8.chunk.js.map